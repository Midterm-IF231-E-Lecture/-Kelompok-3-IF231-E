<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>GAME | UMN Life</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="style.css">
    <script src="https://kit.fontawesome.com/9d53a2f771.js" crossorigin="anonymous"></script>
</head>
<body onload="startTime();" class="vh-100">
    <header>
        <div class="container-sm d-flex p-4 h-30 flex-column justify-content-center align-items-center" id="container">
            <div class="row justify-content-md-center">
                <div class="col-md-auto">
                    <div class="mt-4"><svg xmlns="http://www.w3.org/2000/svg" width="70" height="70" fill="currentColor"class="bi bi-trophy" viewBox="0 0 16 16"> <path d="M2.5.5A.5.5 0 0 1 3 0h10a.5.5 0 0 1 .5.5c0 .538-.012 1.05-.034 1.536a3 3 0 1 1-1.133 5.89c-.79 1.865-1.878 2.777-2.833 3.011v2.173l1.425.356c.194.048.377.135.537.255L13.3 15.1a.5.5 0 0 1-.3.9H3a.5.5 0 0 1-.3-.9l1.838-1.379c.16-.12.343-.207.537-.255L6.5 13.11v-2.173c-.955-.234-2.043-1.146-2.833-3.012a3 3 0 1 1-1.132-5.89A33.076 33.076 0 0 1 2.5.5zm.099 2.54a2 2 0 0 0 .72 3.935c-.333-1.05-.588-2.346-.72-3.935zm10.083 3.935a2 2 0 0 0 .72-3.935c-.133 1.59-.388 2.885-.72 3.935zM3.504 1c.007.517.026 1.006.056 1.469.13 2.028.457 3.546.87 4.667C5.294 9.48 6.484 10 7 10a.5.5 0 0 1 .5.5v2.61a1 1 0 0 1-.757.97l-1.426.356a.5.5 0 0 0-.179.085L4.5 15h7l-.638-.479a.501.501 0 0 0-.18-.085l-1.425-.356a1 1 0 0 1-.757-.97V10.5A.5.5 0 0 1 9 10c.516 0 1.706-.52 2.57-2.864.413-1.12.74-2.64.87-4.667.03-.463.049-.952.056-1.469H3.504z" /></svg></div>
                    <div class="fw-bold mt-2">Mid Exam</div>
                </div>
            </div>
        </div>
    </header>
    <div class="container" id="container">
        <div class="header text-center">
            <img class="logo" src="Asset/logo.png" style="text-align: center; width: 350px;" >
        </div>
        <div class=" p-3 mb-2 bg-secondary text-white rounded-2">
            <div class="container-md d-flex p-4 h-30 flex-column justify-content-center align-items-center" id="container">
                <div id="dashboard" class="mb-3 w-50 mx-auto">
                    <div class="row">
                        <div class="col-md-12 text-center">
                            <h4>Semester <span id="semester">1</span></h4>
                        </div>
                        <div class="col-sm-6 d-flex gap-2 align-items-center justify-content-between mt-2"> <span><i class="fa-solid fa-cookie-bite fa-lg"></i></span> <progress id="HungryBar" value="5" max="10" ></progress>
                        </div>
                        <div class="col-sm-6 d-flex gap-2 align-items-center justify-content-between mt-2"> <span><i class="fa-solid fa-gamepad fa-lg"></i></span> <progress id="PlayBar" value="5" max="10" ></progress>
                        </div>
                        <div class="col-sm-6 d-flex gap-2 align-items-center justify-content-between mt-2"> <span><i class="fa-solid fa-brain fa-lg"></i></span> <progress id="StudyBar" value="0" max="10" ></progress>
                        </div>
                        <div class="col-sm-6 d-flex gap-2 align-items-center justify-content-between mt-2"><span><i class="fa-solid fa-bed fa-lg"></i></span> <progress id="SleepBar" value="5" max="10" ></progress>
                        </div>
                    </div>
                </div>
                <div id="time"></div>
                <h5 class="mt-4"><span id="greeting"></span><span id="usernamePlayer" class="fw-light ms-2"> </span></h5>
            </div>
        </div>
        <div class="container-sm d-flex p-4 h-30 flex-column justify-content-center align-items-center" id="container-fluid">
            <div class="container-fluid section-chara mb-2 mt-2 text-center">
                <input type="text" id="player-gender" style="display: none;">
                <img id="characterAvatar" class="game-character">
            </div>
        </div>
        <div class="container-fluid section-activity text-center">
            <div class="row gy-2">
                <div class="col-sm-6 d-grid mx-auto">
                    <button id="btnHungry" class="btn btn-secondary" onclick="eating(); setTimeout(hungry, 5000); btnDisabled();">Makan<span><i class="fa-solid fa-cookie-bite fa-lg ms-2"></i></span></button>
                </div>
                <div class="col-sm-6 d-grid mx-auto">
                    <button id="btnPlay" class="btn btn-secondary" onclick="playing(); setTimeout(main, 5000); btnDisabled();">Main<span><i class="fa-solid fa-gamepad fa-lg ms-2"></i></span></button>
                </div>
                <div class="col-sm-6 d-grid mx-auto">
                    <button id="btnStudy" class="btn btn-secondary" onclick="studying(); setTimeout(belajar, 5000); btnDisabled();">Belajar<span><i class="fa-solid fa-brain fa-lg ms-2"></i></span></button>
                </div>
                <div class="col-sm-6 d-grid mx-auto">
                    <button id="btnSleep" class="btn btn-secondary" onclick="sleeping(); setTimeout(tidur, 5000); btnDisabled();">Tidur<span><i class="fa-solid fa-bed fa-lg ms-2"></i></span></button>
                </div>
            </div>
        </div>
        <div class="container-sm d-flex p-4 h-30 flex-column justify-content-center align-items-center" id="container">
            <form action="aboutus.html" method="get">
                <div class="row justify-content-md-center">
                    <div class="col-md-auto mt-3">
                        <button class="btn btn-danger mt-4">KELUAR</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</body>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>

<script>
    $(function () {
        $('[data-toggle="tooltip"]').tooltip()
    })

    $('#btn-1menu, #btn-2menu, #btn-3menu').click(function () {
        $('#foodModal').modal('hide');
    });

    document.getElementById("usernamePlayer").innerHTML = name;
    document.getElementById("characterAvatar").value = localStorage.getItem("gender");

    var characterGender = document.getElementById("characterAvatar").value;
    if (characterGender == "11") {
        document.getElementById("characterAvatar").src = "Asset/11.png";
    } else if (characterGender == "6") {
        document.getElementById("characterAvatar").src = "Asset/6.png";
    }

    const timer = document.getElementById("time");
    var getTime = new Date();
    var hour = getTime.getHours();
    var minute = getTime.getMinutes();
    var stopTime = true;

    function startTime() {
        minute = parseInt(minute);
        hour = parseInt(hour);

        minute = minute + 1;

        if (minute == 60) {
            hour = hour + 1;
            minute = 0;
        }

        if (minute < 10 || minute == 0) {
            minute = '0' + minute;
        }

        if (hour < 10 || hour == 0) {
            hour = '0' + hour;
        }

        if (hour > 23) {
            hour = '00';
        }

        timer.innerHTML = "<h3>" + hour + ":" + minute + "</h3>";
        setTimeout("startTime()", 1000);
    }
    const greet = document.getElementById("greeting");

    $(document).ready(function() {
        function greeting() {
            if (hour < 6) {
                greet.innerHTML = "Selamat Tidur, ";
                document.body.style.background = "url(Asset-Background/MALEM.png) repeat center 100%";
            } else if (hour < 11) {
                greet.innerHTML = "Selamat Pagi, ";
                document.body.style.background = "url(Asset-Background/SIANG.png) repeat center 100%";
            } else if (hour < 15) {
                greet.innerHTML = "Selamat Siang, ";
                document.body.style.background = "url(Asset-Background/SIANG.png) repeat center 100%";
            } else if (hour < 18) {
                greet.innerHTML = "Selamat Sore, ";
                document.body.style.background = "url(Asset-Background/SORE.png) repeat center 100%";
            } else {
                greet.innerHTML = "Selamat Malam, ";
                document.body.style.background = "url(Asset-Background/MALEM.png) repeat center 100%";
            }
        }
        setInterval(greeting, 0);
});

    function eating() {
        if (characterGender == "11") {
            document.getElementById("characterAvatar").src = "Asset/12.png"
        } else {
            document.getElementById("characterAvatar").src = "Asset/7.png"
        }
    }

    function hungry() {
        document.getElementById("HungryBar").value += 5;
        document.getElementById("SleepBar").value -= 0.75;

        btnEnabled();
        defaultCharacter();
    }

    setInterval(lapar, 22000);
    function lapar() {
        document.getElementById("HungryBar").value -= 0.5;

        if (document.getElementById("HungryBar").value == 1) {
            window.alert("Kamu Lapar ! Segera Makan");
        }
    }

    function sleeping() {
        if (characterGender == "11") {
            document.getElementById("characterAvatar").src = "Asset/14.png"
        } else {
            document.getElementById("characterAvatar").src = "Asset/9.png"
        }
    }

    function tidur() {
        document.getElementById("HungryBar").value -= 0.5;
        document.getElementById("SleepBar").value += 5;
        document.getElementById("StudyBar").value -= 0.5;

        btnEnabled();
        defaultCharacter();
    }
    setInterval(ngantuk, 20000);
    function ngantuk() {
        document.getElementById("SleepBar").value -= 0.5;

        if (document.getElementById("SleepBar").value == 1) {
            window.alert("Kamu Capek ! Segera Istirahat");
        } 
    }

    function playing() {
        if (characterGender == "11") {
            document.getElementById("characterAvatar").src = "Asset/13.png"
        } else {
            document.getElementById("characterAvatar").src = "Asset/8.png"
        }
    }

    function main() {
        document.getElementById("HungryBar").value -= 0.5;
        document.getElementById("SleepBar").value -= 0.5;
        document.getElementById("PlayBar").value += 5;

        btnEnabled();
        defaultCharacter();
    }
    setInterval(bosan, 20000);
    function bosan() {
        document.getElementById("PlayBar").value -= 0.5;

        if (document.getElementById("PlayBar").value == 1) {
            window.alert("Kamu Stress ! Butuh Healing");
        }
    }

    function studying() {
        if (characterGender == "11") {
            document.getElementById("characterAvatar").src = "Asset/15.png"
        } else {
            document.getElementById("characterAvatar").src = "Asset/10.png"
        }
    }

    function belajar() {
        document.getElementById("HungryBar").value -= 0.5;
        document.getElementById("SleepBar").value -= 0.5;
        document.getElementById("PlayBar").value -= 0.5;
        document.getElementById("StudyBar").value += 2.5;

        btnEnabled();
        defaultCharacter();

        var semester = document.getElementById("semester").innerHTML;
        if (document.getElementById("StudyBar").value >= 10) {
            var newSemester = parseInt(semester, 10) + 1;
            document.getElementById("semester").innerHTML = newSemester;
            window.alert("Selamat kamu telah bertahan di semester ini, segera lanjut ke semester ini " + newSemester);
            document.getElementById("StudyBar").value = 0;
        }
        if (newSemester == 8) {
            alert("Selamat kamu suda sudah lulus!");
            if (confirm("Do you want to play again?")) {
                location.reload();
            }
            else {
                window.location.assign("index.html");
            }
        }
    }
    setInterval(kurangBelajar, 25000);
    function kurangBelajar() {
        document.getElementById("StudyBar").value -= 0.5;

        if (document.getElementById("StudyBar").value == 1) {
            alert("Kamu butuh belajar");
        } 
    }

    function defaultCharacter() {
        document.getElementById("characterAvatar").src = "Asset/" + characterGender + ".png";
    }

    function btnEnabled() {
        document.getElementById("btnHungry").disabled = false;
        document.getElementById("btnPlay").disabled = false;
        document.getElementById("btnStudy").disabled = false;
        document.getElementById("btnSleep").disabled = false;
    }

    function btnDisabled() {
        document.getElementById("btnHungry").disabled = true;
        document.getElementById("btnPlay").disabled = true;
        document.getElementById("btnStudy").disabled = true;
        document.getElementById("btnSleep").disabled = true;
    }

    setInterval(gameOver, 1000);
    function gameOver() {
        if(document.getElementById("HungryBar").value == 0 && 
            document.getElementById("SleepBar").value == 0 && 
            document.getElementById("PlayBar").value == 0)
        {
            alert("Game Over!");
            if(confirm("Do you want to play again ?")) {
                location.reload();
            }
            else{
                window.location.assign("index.html");
            }
        }
    }
</script>

</html>